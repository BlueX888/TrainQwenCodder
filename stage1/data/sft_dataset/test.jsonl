{"instruction": "你是一个 Phaser3 游戏开发专家。请根据用户的任务描述，先输出结构化计划 [PLAN]，然后输出完整的 Phaser3 代码。\n\n输出格式要求：\n1. 先输出 [PLAN]...[/PLAN] 块，包含需求摘要、API 列表和步骤\n2. 然后输出完整的 JavaScript 代码（使用 ```javascript 包裹）\n3. 代码必须可独立运行，包含完整的 Game 配置和 Scene 生命周期", "input": "任务: 使用 WASD 键控制一个菱形移动，速度为 80 像素/秒。\n\n难度: 基础\n\n约束:\n- 使用 Phaser3\n- 不得依赖外部资源（优先用 Graphics/内置形状/纯色纹理）\n- 必须包含 preload/create 生命周期\n- 输出代码需可独立运行（包含 Phaser.Game 配置与 Scene）\n\n必须使用的 API:\n- Phaser.Input.Keyboard.KeyCodes\n- Phaser.GameObjects.Graphics", "output": "[PLAN]\nREQ: 使用 WASD 键控制菱形以 80 像素/秒速度移动\nAPI: Graphics.fillStyle, Graphics.beginPath, Graphics.moveTo, Graphics.lineTo, Graphics.closePath, Graphics.fillPath, Input.Keyboard.addKeys, Scene.time.delta\nSTEPS:\n1. 创建 Scene 并使用 Graphics 绘制菱形形状\n2. 使用 addKeys 监听 WASD 键盘输入\n3. 在 update 中根据按键状态和 delta 时间计算位移，更新菱形位置\n[/PLAN]\n\n```javascript\nconst config = {\n  type: Phaser.AUTO,\n  width: 800,\n  height: 600,\n  backgroundColor: '#2d2d2d',\n  scene: {\n    preload: preload,\n    create: create,\n    update: update\n  }\n};\n\nlet diamond;\nlet keys;\nconst SPEED = 80; // 像素/秒\n\nfunction preload() {\n  // 无需预加载外部资源\n}\n\nfunction create() {\n  // 创建菱形图形对象\n  diamond = this.add.graphics();\n  diamond.x = 400;\n  diamond.y = 300;\n  \n  // 绘制菱形（以中心点为原点）\n  drawDiamond(diamond);\n  \n  // 添加 WASD 键监听\n  keys = this.input.keyboard.addKeys({\n    w: Phaser.Input.Keyboard.KeyCodes.W,\n    a: Phaser.Input.Keyboard.KeyCodes.A,\n    s: Phaser.Input.Keyboard.KeyCodes.S,\n    d: Phaser.Input.Keyboard.KeyCodes.D\n  });\n  \n  // 添加提示文本\n  this.add.text(10, 10, 'Use WASD to move the diamond', {\n    fontSize: '16px',\n    color: '#ffffff'\n  });\n}\n\nfunction update(time, delta) {\n  // 计算每帧的移动距离 = 速度 * 时间(秒)\n  const distance = SPEED * (delta / 1000);\n  \n  // 根据按键状态更新位置\n  if (keys.w.isDown) {\n    diamond.y -= distance;\n  }\n  if (keys.s.isDown) {\n    diamond.y += distance;\n  }\n  if (keys.a.isDown) {\n    diamond.x -= distance;\n  }\n  if (keys.d.isDown) {\n    diamond.x += distance;\n  }\n  \n  // 边界限制（可选）\n  diamond.x = Phaser.Math.Clamp(diamond.x, 0, 800);\n  diamond.y = Phaser.Math.Clamp(diamond.y, 0, 600);\n}\n\n/**\n * 绘制菱形\n * @param {Phaser.GameObjects.Graphics} graphics - 图形对象\n */\nfunction drawDiamond(graphics) {\n  graphics.fillStyle(0x00ff00, 1);\n  graphics.beginPath();\n  \n  // 菱形的四个顶点（相对于中心点）\n  graphics.moveTo(0, -30);   // 上顶点\n  graphics.lineTo(25, 0);     // 右顶点\n  graphics.lineTo(0, 30);     // 下顶点\n  graphics.lineTo(-25, 0);    // 左顶点\n  \n  graphics.closePath();\n  graphics.fillPath();\n  \n  // 添加描边使菱形更明显\n  graphics.lineStyle(2, 0xffffff, 1);\n  graphics.strokePath();\n}\n\nnew Phaser.Game(config);\n```", "metadata": {"id": "distill_seed_000051_v1", "prompt_id": "seed_000051", "source": "distill", "difficulty": "easy", "modules": ["Scene", "GameObjects", "Input"], "quality_score": 0.8899999999999999}}
