{"instruction": "你是一个 Phaser3 游戏开发专家。请根据用户的任务描述，先输出结构化计划 [PLAN]，然后输出完整的 Phaser3 代码。\n\n输出格式要求：\n1. 先输出 [PLAN]...[/PLAN] 块，包含需求摘要、API 列表和步骤\n2. 然后输出完整的 JavaScript 代码（使用 ```javascript 包裹）\n3. 代码必须可独立运行，包含完整的 Game 配置和 Scene 生命周期", "input": "任务: 让一个圆形以每秒 80 度的速度持续旋转。\n\n难度: 基础\n\n约束:\n- 使用 Phaser3\n- 不得依赖外部资源（优先用 Graphics/内置形状/纯色纹理）\n- 必须包含 preload/create 生命周期\n- 输出代码需可独立运行（包含 Phaser.Game 配置与 Scene）\n\n必须使用的 API:\n- Phaser.GameObjects.Graphics", "output": "[PLAN]\nREQ: 让一个圆形以每秒 80 度的速度持续旋转\nAPI: Phaser.GameObjects.Graphics, Phaser.GameObjects.Container, Scene.update\nSTEPS:\n1. 创建 Graphics 对象绘制圆形\n2. 将 Graphics 添加到 Container 中以便旋转\n3. 在 update 方法中根据 delta 时间累加旋转角度\n4. 使用 Phaser.Math.DegToRad 将角速度转换为弧度\n[/PLAN]\n\n```javascript\nconst config = {\n  type: Phaser.AUTO,\n  width: 800,\n  height: 600,\n  backgroundColor: '#2d2d2d',\n  scene: {\n    preload: preload,\n    create: create,\n    update: update\n  }\n};\n\nlet circle;\nconst ROTATION_SPEED = 80; // 每秒 80 度\n\nfunction preload() {\n  // 无需预加载资源\n}\n\nfunction create() {\n  // 创建 Graphics 对象绘制圆形\n  const graphics = this.add.graphics();\n  \n  // 绘制一个带有视觉参考的圆形（半径 80）\n  // 填充主体\n  graphics.fillStyle(0x00ff00, 1);\n  graphics.fillCircle(0, 0, 80);\n  \n  // 绘制一条从圆心到边缘的线，用于观察旋转\n  graphics.lineStyle(4, 0xff0000, 1);\n  graphics.beginPath();\n  graphics.moveTo(0, 0);\n  graphics.lineTo(80, 0);\n  graphics.strokePath();\n  \n  // 在圆心添加一个小圆点作为参考\n  graphics.fillStyle(0xffffff, 1);\n  graphics.fillCircle(0, 0, 8);\n  \n  // 创建 Container 来承载 Graphics，方便旋转\n  circle = this.add.container(400, 300);\n  circle.add(graphics);\n  \n  // 添加文本提示\n  this.add.text(10, 10, '圆形旋转速度: 80°/秒', {\n    fontSize: '20px',\n    color: '#ffffff'\n  });\n}\n\nfunction update(time, delta) {\n  // delta 是以毫秒为单位的时间差\n  // 将每秒的角速度转换为每毫秒的角速度，再转换为弧度\n  const rotationIncrement = Phaser.Math.DegToRad(ROTATION_SPEED * delta / 1000);\n  \n  // 累加旋转角度\n  circle.rotation += rotationIncrement;\n}\n\nnew Phaser.Game(config);\n```", "metadata": {"id": "distill_seed_000001_v2", "prompt_id": "seed_000001", "source": "distill", "difficulty": "easy", "modules": ["Scene", "GameObjects"], "quality_score": 0.64}}
{"instruction": "你是一个 Phaser3 游戏开发专家。请根据用户的任务描述，先输出结构化计划 [PLAN]，然后输出完整的 Phaser3 代码。\n\n输出格式要求：\n1. 先输出 [PLAN]...[/PLAN] 块，包含需求摘要、API 列表和步骤\n2. 然后输出完整的 JavaScript 代码（使用 ```javascript 包裹）\n3. 代码必须可独立运行，包含完整的 Game 配置和 Scene 生命周期", "input": "任务: 实现一个补间动画：让一个红色星形在 2.5 秒内从左移动到右，然后往返循环。\n\n难度: 基础\n\n约束:\n- 使用 Phaser3\n- 不得依赖外部资源（优先用 Graphics/内置形状/纯色纹理）\n- 必须包含 preload/create 生命周期\n- 输出代码需可独立运行（包含 Phaser.Game 配置与 Scene）\n- 不得使用外部图片资源，需程序化生成纹理\n\n必须使用的 API:\n- Phaser.Tweens.Tween\n- Phaser.GameObjects.Graphics", "output": "[PLAN]\nREQ: 实现红色星形从左到右往返循环移动的补间动画\nAPI: Phaser.GameObjects.Graphics, Phaser.Tweens.TweenManager, Phaser.GameObjects.Image, Graphics.generateTexture\nSTEPS:\n1. 使用 Graphics 绘制红色星形并生成纹理\n2. 创建使用该纹理的 Image 对象并放置在左侧\n3. 使用 tweens.add 创建补间动画，设置 x 坐标从左到右移动，duration 为 2500ms\n4. 设置 yoyo 为 true 实现往返效果，loop 为 -1 实现无限循环\n[/PLAN]\n\n```javascript\nconst config = {\n  type: Phaser.AUTO,\n  width: 800,\n  height: 600,\n  backgroundColor: '#2d2d2d',\n  scene: {\n    preload: preload,\n    create: create\n  }\n};\n\nfunction preload() {\n  // 不需要加载外部资源\n}\n\nfunction create() {\n  // 使用 Graphics 绘制红色星形\n  const graphics = this.add.graphics();\n  graphics.fillStyle(0xff0000, 1); // 红色\n  \n  // 绘制五角星\n  const starPoints = [];\n  const outerRadius = 40;\n  const innerRadius = 16;\n  const centerX = 50;\n  const centerY = 50;\n  \n  // 生成五角星的10个点（5个外顶点 + 5个内顶点）\n  for (let i = 0; i < 10; i++) {\n    const radius = i % 2 === 0 ? outerRadius : innerRadius;\n    const angle = (i * Math.PI) / 5 - Math.PI / 2; // 从顶部开始\n    const x = centerX + radius * Math.cos(angle);\n    const y = centerY + radius * Math.sin(angle);\n    starPoints.push(x, y);\n  }\n  \n  // 绘制星形\n  graphics.beginPath();\n  graphics.moveTo(starPoints[0], starPoints[1]);\n  for (let i = 2; i < starPoints.length; i += 2) {\n    graphics.lineTo(starPoints[i], starPoints[i + 1]);\n  }\n  graphics.closePath();\n  graphics.fillPath();\n  \n  // 生成纹理\n  graphics.generateTexture('star', 100, 100);\n  graphics.destroy(); // 销毁 graphics 对象，只保留纹理\n  \n  // 创建星形精灵\n  const star = this.add.image(100, 300, 'star');\n  \n  // 创建补间动画：从左到右移动，2.5秒，往返循环\n  this.tweens.add({\n    targets: star,\n    x: 700, // 移动到右侧（距离右边界100像素）\n    duration: 2500, // 2.5秒\n    yoyo: true, // 往返效果\n    loop: -1, // 无限循环（-1 表示永久循环）\n    ease: 'Linear' // 线性缓动，匀速移动\n  });\n  \n  // 添加文字说明\n  this.add.text(400, 50, 'Red Star Tween Animation', {\n    fontSize: '24px',\n    color: '#ffffff'\n  }).setOrigin(0.5);\n  \n  this.add.text(400, 550, 'The star moves left to right and loops forever', {\n    fontSize: '16px',\n    color: '#cccccc'\n  }).setOrigin(0.5);\n}\n\nnew Phaser.Game(config);\n```", "metadata": {"id": "distill_seed_000008_v1", "prompt_id": "seed_000008", "source": "distill", "difficulty": "easy", "modules": ["Scene", "Animations"], "quality_score": 0.665}}
{"instruction": "你是一个 Phaser3 游戏开发专家。请根据用户的任务描述，先输出结构化计划 [PLAN]，然后输出完整的 Phaser3 代码。\n\n输出格式要求：\n1. 先输出 [PLAN]...[/PLAN] 块，包含需求摘要、API 列表和步骤\n2. 然后输出完整的 JavaScript 代码（使用 ```javascript 包裹）\n3. 代码必须可独立运行，包含完整的 Game 配置和 Scene 生命周期", "input": "任务: 实现一个可拖拽的矩形，拖拽时缩放到 1.2 倍，松手后恢复原大小。\n\n难度: 基础\n\n约束:\n- 使用 Phaser3\n- 不得依赖外部资源（优先用 Graphics/内置形状/纯色纹理）\n- 必须包含 preload/create 生命周期\n- 输出代码需可独立运行（包含 Phaser.Game 配置与 Scene）\n\n必须使用的 API:\n- Phaser.Input.Events.GAMEOBJECT_DRAG\n- Phaser.GameObjects.Graphics", "output": "[PLAN]\nREQ: 实现可拖拽矩形，拖拽时放大1.2倍，松手恢复原大小\nAPI: Graphics, setInteractive, on('drag'), on('dragstart'), on('dragend'), setScale\nSTEPS:\n1. 使用 Graphics 绘制矩形并生成纹理\n2. 创建 Sprite 并设置为可交互和可拖拽\n3. 监听 dragstart 事件，将矩形缩放至 1.2 倍\n4. 监听 drag 事件，更新矩形位置跟随鼠标\n5. 监听 dragend 事件，将矩形缩放恢复至 1.0 倍\n[/PLAN]\n\n```javascript\nconst config = {\n  type: Phaser.AUTO,\n  width: 800,\n  height: 600,\n  backgroundColor: '#2d2d2d',\n  scene: {\n    preload: preload,\n    create: create\n  }\n};\n\nfunction preload() {\n  // 不需要预加载外部资源\n}\n\nfunction create() {\n  // 使用 Graphics 绘制矩形并生成纹理\n  const graphics = this.add.graphics();\n  graphics.fillStyle(0x4a90e2, 1);\n  graphics.fillRect(0, 0, 120, 80);\n  graphics.generateTexture('rectTexture', 120, 80);\n  graphics.destroy();\n\n  // 创建可拖拽的矩形精灵\n  const rectangle = this.add.sprite(400, 300, 'rectTexture');\n  \n  // 设置为可交互和可拖拽\n  rectangle.setInteractive({ draggable: true });\n\n  // 监听拖拽开始事件 - 放大到 1.2 倍\n  rectangle.on('dragstart', function(pointer, dragX, dragY) {\n    this.setScale(1.2);\n  });\n\n  // 监听拖拽中事件 - 更新位置\n  rectangle.on('drag', function(pointer, dragX, dragY) {\n    this.x = dragX;\n    this.y = dragY;\n  });\n\n  // 监听拖拽结束事件 - 恢复原大小\n  rectangle.on('dragend', function(pointer, dragX, dragY) {\n    this.setScale(1.0);\n  });\n\n  // 添加提示文本\n  this.add.text(400, 50, '拖拽矩形试试！', {\n    fontSize: '24px',\n    color: '#ffffff'\n  }).setOrigin(0.5);\n}\n\nnew Phaser.Game(config);\n```", "metadata": {"id": "distill_seed_000026_v1", "prompt_id": "seed_000026", "source": "distill", "difficulty": "easy", "modules": ["Scene", "GameObjects", "Input"], "quality_score": 0.6566666666666667}}
